{"version":3,"file":"src_app_pages_code-modal_code-modal_module_ts.js","mappings":"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","sources":["./src/app/pages/code-modal/code-modal-routing.module.ts","./src/app/pages/code-modal/code-modal.module.ts","./src/app/pages/code-modal/code-modal.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CodeModalPage } from './code-modal.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CodeModalPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CodeModalPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CodeModalPageRoutingModule } from './code-modal-routing.module';\r\n\r\nimport { CodeModalPage } from './code-modal.page';\r\nimport { NgOtpInputModule } from  'ng-otp-input';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CodeModalPageRoutingModule,\r\n    NgOtpInputModule\r\n  ],\r\n  declarations: [CodeModalPage]\r\n})\r\nexport class CodeModalPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { VerificationService } from 'src/app/services/verification.service';\r\n@Component({\r\n  selector: 'app-code-modal',\r\n  templateUrl: './code-modal.page.html',\r\n  styleUrls: ['./code-modal.page.css'],\r\n})\r\nexport class CodeModalPage implements OnInit {\r\n    constructor(\r\n      private router: Router,\r\n      private verificationService: VerificationService,\r\n      private modalCtrl: ModalController,\r\n      private route: ActivatedRoute, \r\n    ) {\r\n\r\n      this.route.queryParams.subscribe(params => {\r\n        if (this.router.getCurrentNavigation().extras.state) {\r\n          this.num = this.router.getCurrentNavigation().extras.state.num;\r\n        }\r\n      });\r\n    }\r\n    \r\n    code: number;\r\n    num: any;\r\n    // configuration des inputs du code\r\n    configInput = {\r\n      length: 4,\r\n      placeholder: '#',\r\n      allowNumbersOnly: true,\r\n      inputStyles: {\r\n        width: '50px',\r\n        height: '50px',\r\n      },\r\n    };\r\n    sendSMS() {\r\n      return this.verificationService.sendSMS(this.num);\r\n    }\r\n    ngOnInit():void {\r\n      console.log(\"hello from code page \");\r\n      \r\n      this.sendSMS().subscribe(\r\n        async (res) => {\r\n          this.code = await res['random'];   \r\n          console.log('num fel code ', this.num);\r\n          console.log(this.code);   \r\n        },\r\n        (err) => {\r\n          console.log(err.error);\r\n        }\r\n      );\r\n    }\r\n  \r\n    //afficher la valeur des input du code dans le console\r\n    //vérifier le code et aller à la page new password\r\n    valueChange(ev:any) {\r\n            if (ev == this.code) {\r\n        this.verificationService.returnToken(this.num).subscribe(\r\n          async () => {\r\n            const navigationExtras: NavigationExtras = {\r\n              state: {\r\n                num: this.num,\r\n              },\r\n            };\r\n            await this.router.navigate(['/change-password'], navigationExtras);\r\n            this.modalCtrl.dismiss();          },\r\n          (err) => {\r\n            console.log(err.error);\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}